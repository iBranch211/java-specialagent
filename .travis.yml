# Copyright 2019 The OpenTracing Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java
jdk:
#- oraclejdk7
- oraclejdk8
- oraclejdk9
#- oraclejdk10
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/io/opentracing/contrib/java-specialagent
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -DrepoToken='HFar79Y8ewprxBR9TWrJOCmThxNeRt89P' -P report install && mvn -P deploy deploy;
  else
    mvn install;
  fi'
after_success:
- mvn -Ddeploy install
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: XXCVnvX9VWKurdRWqMo9gWnY4uSsv19deEs7m3WD6ma+Mz82uKjJ/ulrPCWTUa0mmgPeVKtol5pWLEYjca4fLRDtqDRnSI8WmrjwAgoNJ8udd/QUQXKhCvVaC607jxijFVY1ExV23pbwEij/quQ+gYWhQAyX2dMTA/1CKN1nJWgdnDqXRm9m6F9rdYWOfqHZ+JSrMIOgWPRLIx9kqPHyBiAGeY9z24YkoVeZEtiDcN/7iU48ZjV70O3yeeg3UsJ4zupIcIwUow/8VcYknr0bPfXEZP3STjVqSavTr8/SKuyRMGuvK4sV/Shubh4YgeFdR++BCnWQv79Q3UO7LXpTxP5JsXnMevzfrvAWLRlk+ph9lUwL/LE4EnFM8y2RjVVTbwhSYHR+PwJ5z3RVV+RJUvGzgmeMrzPQogCmXqjNTPQBYeceIEjdAlD/634K69UModYtLZ6h/Zz1TQWVEkikZVa89oM8yVw+zWPeAG33FUL9XOwKs8ObfXW5JjtL5Gb3pz55kpOxPsGVZCf1sqUD6+vSQDzRuft65NYs29P6dnIhbbvaMEkvjo01ydRSZDCzEVysf+FQpoWaHn9zaUpx44QwMxTfzn8KLfRmK/k7dbASQnRxlaplS7eR8hIam0TM5xHYu/sbNnlGGLUVogQEt7od7aJ/6mxKeK//oUJ63/0=
  - secure: hgBvLZarirSDhCAraooYR17I9UMkhTf+9GIUS5O5rBjFHajd4B+3ttwrVl38x/jNRz72wbdX6c5Cu1tDUnI+s4ELKhgE4Ueozy/jCojxwe+vaE0o9G7L2PtEpqyPWCCxeDyuWgefPcck4Oi254wajQJsBpmabypeGuoq9uq/dCa6DsVxCMGm0eJrOxvqMUFtTGPFGRRalvhBN+wWqs5pN3LLGCQhzItd4+4owWIPk3XtFkCiQWavXPEBxKRb9SuqSHo31P8CdfSo/hr0c8+9fObwwGJ+ILzt+VeJILzhFLL/QfHXLghKxMD7HNotdCupz5RpS6KY1SnZmHRe4EZ05o/tQotbZcNS0PJ6Rat4UFIa1DL21qjQvDqqIRZ1I+HoeLyckbhkoC4lvWQGIHJE4S0hqqdxhqbO2BGlvob2SN/eOYOvEidQRN8qwYMFxipa68SV2/MQFWD3mRMgyVZBIiCXTac5Js23Q6QU8vEoVq5ok38egFthDPTJMAvfU12Spo5FXrgvZJLbwKo+MtHpk2BqCMqGVrTLYNNvTNqKGThU96OOphh5oMvQ2vlI4h4yVSL1FGz3rZ0HmeT3m9fMYU85wtiPNaUYMBCGF2Atj4TejicCzcrE/QiSlhFRi0uvBmXSFYoP4I2jqCZLohAYeL98V0J0J4sJXGnG1pFF+ns=
  - secure: fVQC+c6uiPZ0wggplNnX1DNY2AWdqyFUKMWS0DbEVBLLpav+b3kho6WrE6eMzfDiweIghOSzWWL0d5ZP+rIcHMp/XGHvw+IVmBFBuYt4M6sm8+KkVJNeHjiWx7mOKgkJbYKmhpSc2whlmUQ5eMYVQ5DDJ28Jd52UWD/igBlwS8JMfbmOG7r2zKyLIVVGq1GDmvFXBzZ4AUTh5cWNkrGDjc60F1xkfK7bg7seE6vbI6UiRWlPRdF7mkeohHb0PLBF0MNORPPrDpC7OBPi3MvUBtyKm1JLusitgzeNBJDQ97M9wZf6xEAE6ebo6h62mtmtdnK6w0WAuOn8JQwA1kHGb8mCpxqqWe3AMpzCb2L+Q3EiAmnUSjTwK+pHZQllwrT1hBrgV0YfqaOT4UGnqMluKVaRs3Q50E0ZhO8DWvwwrHVafncMiTzRdz5mmk95Yvwcsh0nvqByLh9qTXuQ+XDX5/1xbhVxkQ7UVMkffIfanddOJZ7bnpljvFPbKUSDLt4MQseqYn89qwek5Uz4R/jYg97C19Bro2WDljgIh9EpuCT8kyKUjd1RzGpEKTBqEebAtIhSZTDr5REj/eFdBhwiW2oxtThl1xzQSAy7wMS3YTVmNb8SGYMzIJIFKsV1c7qtn/u5F9W6XlL5ccJBlJVjNrTfplh8NuWK1WU4Oeq6Le4=
  - secure: XZ0wkA7aZtYojFR/FNbEN8W6HUoxuehxhTjd7cIIx+tJ22LbiVHzMqBqcevkbxfpsUZI23mMlXuaNinuEZvQCW6F4KorsI+lgJJiQdSMxa13OzIjwgddCEFPnXLl5FsCjdLVHT8UyAGIn0v0CX4u9hTsc9Qh2zfWHh6q4sjy/Tpy7Y+8HmIsR46620tgG3T+4fo3AFNFgW6TETMlBJW2X9Xw8vRQnlS5G76b3eYq0UNT0wH1zNC6ZW6+x5G+8+txX3iZ6k0J+opu0dq6guLbd/84viwxMzOUg6DLhgcFuo1pBx5TRzEiJP/4uTJMUgNAeiT2mwmI7SUc5MuPCl8I7e9BH4FlrtgkRf4Cq3L0oka5wdQ/LOZQsm8CYNfBgI5JWR0WNJfBs0rQjXBtAFhEzYjAq5aUkbVSd8FiHCRQr7mA7CWCdDxZB60gwl5A4Be17T4j6c3U4Ee3lPEHbaUXzg37CwkA8Fc8tfvVUmfsaPNyvCb/Ba44jtAp1C/41VTs4ztFbhbSrK0mnNSNWqZ8Oj8L70iN1qd2D36iNMtVeHX9aVbFceLoEEtWe1BbY0Ms9jl7/qxJY+yYWWfS/fV9Zz1lyd4lAAC5bsvk5xkr7H56s030P9JrGO9e9ESq8iUV70oRBhV1LNkLE1a/hoHpbVgQOeZ/hRbCQb/kg/eR5eY=
  - secure: bHEJi+E93c7F1pOnyPkFzzrD6OtVLqFiUH0X5JDvZKL9wOftADcemb1whZKY2sdbI3iXvGaPTVv+oYKea1vYhme1v3u20BX8HsdKXHVYw+i3q0ACSoOSmOiDEedsVwZRIxmfOz3mquCTviUW6KcqKIklVPQmr0mezmhrh1z6gpSTt0QzZBo8Dp9Yqi0/2jv5fzohZTolnneafpjPyImm0zIyX2dyaiRzMbFLeuxSpdicXTpr3ooWXtzEvzMOG27pqg3M7hL5Z+8sWNJID/fdbEsQB/JmDobL8of9BEJD696Kewr53100Ejf8l4HemO8u5iaQ1cNdDnUtmGtiam0aOERAeuNjzAX0AatQMTeSxhEhGx927kiZhPr+vxdKFW87tGrnqa2r5qlHN3bkz5Lrgy+siuV51dG+jQqQSI64Nl8NJRUI90ch0IZntNnNOGapkBfP2RLKHPm9kY5+ey2Nh6Ilb5avrKAC7G8sLU+o3Cb1TGjtKq1IgkuaoWhp3U1NxpCiagyNsyXs0xjJdfuMKirmwUcRbCh0nazHi6L/edGkT4vyz3geJgiF6ZKjRfyF0be5uLSnadlif9kMx56pAN6YTpNGpFZXXruxhZYaq37/8mL/dItFIkEbyf0CObFi1lHiZ+wL6qMHW5E0G5k9H9vj/0x4eK2dQp6f1EunmNU=
  - secure: DEoYBTEKtfTV5A7eRoOFskckycCFtwQhrEppmg5MiPgh+1PF6NqHONllCw3neePX6fny+E2WixUEIHqPj4kTD3F3NYuouK4LMDr0PwY1Lpdyg2HJo/iot3IrUL0WHAWIp1WznF9Qaxb5xdT9VruykKT/rPcqqg/4B1H4ZSKcSK61X09pBtPV+I+VZj882sJrQluOi4LNkpidFOZ7fIWx+OCwUSqdYwMUjwzCSLHqmFIUipNlQBrU9gzLB+y4ycGMnNnZcR2CdRpa8UCEXFdYpsTMiytCiOHEowO+c3hxzem/Nt5gAcrnUsgCpP5h/LIv+08kIk2t5HIcFO5VrkvNo+ru6ikzXc8oYKfhK5Gogtktn6hAK13uM1amrIjvNIpAylveKyQD4bwKnc0sp17E4FVhiEZP2MC/nEmlYAfzDxgaojpNVc4JNWd1yGltB39Y/T00VJQnhbs0fTGDag11RyabmE3pNimg9Y2+35mx1olNeQj0DVPMzxtPTNq3jVgCSs5NZIY/Qly0JKdyLKUCphcbpnS0O0VegTnNiND61R/kQpGr24HWoQb3IOjRp3AnOcSL3aHqiHMLIhjKv/uIIb8i3/0Fk0j59x4lQ8KTh/enXsrQpdwYkE8HYZgE7LyO1+qCsgPOkja2k9lmWkz3ZWPOttDB+gyOiaccJfRcZLQ=
  - secure: l4hXvv3yHRHbsBIvkISdshzAnEjKY/iwbr+GC29TwBTv5nZR5AQSS3Sn1n4uQHQH3KXzzWYsTF/J55yCZ9t4vUQL+XCuZ7K9v2Gpa4j70+Wy/jl4SLgR0mK2l5+rEMCeVFL+pPx5Um2MEM90V++0hR1ey/pFrXRVJKbQ4Q3KRQJ9vr9Q8gy+vF5Zg7wSSJ64eXgebr9P4HuZAWnPqfJQschF/H+f+62Ebp9iXvVjqTy8JeY7sFP8KSkxzndwLf66PP9rxhWXjk8JAsRq3vg0bv9EdC/A4eNZ8O6xTxlNnYobXkdtu3UlNTEqB2P2z1wzZSL2uwKqxemCkPVRqNzlaZ5NjOU54nBmAD25he4cL6iLzmh85RsKdhKh3QovgPsyQaPqE6GARSQcwsbenvD1h1X+YNkNeuuQ785CGcXIkCK5UbFNAlkHD9Xop0M2N1uu6H9owL0CjeVwiHljCfDg8mFfg1FqykPJ6FpNYgpMQVdF/FN7OSFCxhSmyY+vk9be9c3lcCmZ9/vSJByG+JuAxs1pIL2mAdp6Mtincb9NuBYghkH4Nf8soNhXCOkUFBao0ZFGQ+ZnvTvanzntlwJrLNYIMdMp2oxdUG9Q1Z7V3AR7uWJVjn6FMZQF7o0bI+z/+HWxpfxhFQpb5YKNo1nmeKKAY1Y3AxU7AolcrKZmfqU=
